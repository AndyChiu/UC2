include <parameters.scad>
include <stabilizer_spacing.scad>

/*
UC2 Right KS27 19.05mm 
layout_KS27_R.scad

parameters.scad :
	switch_type = "ks27"; 
	include <parameters_mcu_ProMicro.scad>
	mcu_type = "socketed";  // [bare, socketed, socketed2]
	unit = 19.05;
*/


/* [Layout Values] */
/* Layout Format (each key):
    [
        [                                       // Location Data
            [x_location, y_location],
            key_size,
            [rotation, rotation_x, rotation_y],
        ],
        [                                       // Borders
            top_border,
            bottom_border,
            left_border,
            right_border
        ],
        extra_data                              // Extra data (depending on component type)
    ]
*/

// Keyswitch Layout
//     (extra_data = rotate_column)
base_switch_layout = [
//8
  [[[3.23937007874016,1.12913385826772],1,[-360,3.73937007874016,1.62913385826772]],[3,2,2,2],[false,switch_type]],
//PrtSc
  [[[5.83412073490814,0.21469816272965903],1,[-360,6.33412073490814,0.714698162729659]],[1,2,1,1],[false,switch_type]],
//-
  [[[6.28346456692913,1.36272965879265],1,[-360,6.78346456692913,1.86272965879265]],[2,1,2,1],[false,switch_type]],
//[
  [[[6.42729658792651,2.36220472440945],1,[-360,6.92729658792651,2.86220472440945]],[2,3,2,2],[false,switch_type]],
//'
  [[[6.67926509186352,3.36220472440945],1,[-360,7.17926509186352,3.86220472440945]],[2,4,2,4],[false,switch_type]],
//Scroll Lock
  [[[6.84566929133858,0.21417322834645702],1,[-360,7.34566929133858,0.714173228346457]],[1,2,2,2],[false,switch_type]],
//=
  [[[7.28346456692913,1.36220472440945],1,[-360,7.78346456692913,1.86220472440945]],[2,1,1,1],[false,switch_type]],
//]
  [[[7.42782152230971,2.36220472440945],1,[-360,7.92782152230971,2.86220472440945]],[1,1,1,1],[false,switch_type]],
//Pause Break
  [[[7.85564304461942,0.21417322834645702],1,[-360,8.35564304461942,0.714173228346457]],[1,3,2,2],[false,switch_type]],
//Shift
  [[[7.180052493438319,4.36272965879265],2.74278215223097,[-360,8.55144356955381,4.86272965879265]],[1,3,3+0.871391076115485*unit*mm,1+0.871391076115485*unit*mm],[false,switch_type]],
//Enter
  [[[8.178477690288709,3.36272965879265],1.2498687664042,[-360,8.80341207349081,3.86272965879265]],[1,2,3+0.12493438320210004*unit*mm,1+0.12493438320210004*unit*mm],[false,switch_type]],
//\
  [[[8.427034120734907,2.36220472440945],1.49606299212598,[-360,9.1750656167979,2.86220472440945]],[1,1,1+0.24803149606299002*unit*mm,1+0.24803149606299002*unit*mm],[false,switch_type]],
//Backspace
  [[[8.289238845144359,1.36115485564304],1.99527559055118,[-360,9.28687664041995,1.86115485564304]],[1,3,2+0.49763779527559004*unit*mm,0+0.49763779527559004*unit*mm],[false,switch_type]],
//MUTE
//  [[[9.01706036745407,0.21443569553805797],1,[-360,9.51706036745407,0.714435695538058]],[2,3,3,2],[false,switch_type]],
//F10
  [[[2.21627307086614,0.40353317585301895],1,[-0.100000000000023,2.71627307086614,0.903533175853019]],[1,3,2,2],[false,switch_type]],
//F11
  [[[3.27211333333333,-0.05971926509186398],1,[-4,3.77211333333333,0.440280734908136]],[1,1,2,2],[false,switch_type]],
//F12
  [[[4.27893748031496,0.15550383202099705],1,[-4,4.77893748031496,0.655503832020997]],[1,3,2,2],[false,switch_type]],
//MENU
  [[[0.9089575328084,8.57792288713911],1.2498687664042,[-41.4,1.5338919160105,9.07792288713911]],[5,1,1+0.12493438320210004*unit*mm,1+0.12493438320210004*unit*mm],[false,switch_type]],
//Enter
  [[[1.18237391076115,7.64275275590551],2.24409448818898,[-236.9,2.30442115485564,8.14275275590551]],[1,3,0.62204724409449*unit*mm,3+0.62204724409449*unit*mm],[false,switch_type]],
//Space
  [[[2.22944593175853,6.46455790026247],1.2498687664042,[-246,2.85438031496063,6.96455790026247]],[1,2,1+0.12493438320210004*unit*mm,4+0.12493438320210004*unit*mm],[false,switch_type]],
//Down
  [[[4.02771637795276,5.25539994750656],1,[-336.5,4.52771637795276,5.75539994750656]],[3,5,1,3],[false,switch_type]],
//Up
  [[[3.11043228346457,5.66590414698163],1,[-336.9,3.61043228346457,6.16590414698163]],[3,4.5,1,3],[false,switch_type]],
//Delete
  [[[0.9483960104986899,6.11239632545932],1,[-337.4,1.44839601049869,6.61239632545932]],[2,2,1,3],[false,switch_type]],
///
  [[[5.90952461942257,4.51800976377953],1,[-337.6,6.40952461942257,5.01800976377953]],[2,1,2,3],[false,switch_type]],
//.
  [[[4.81351091863517,4.48743322834646],1,[-338.5,5.31351091863517,4.98743322834646]],[2,1,2,2],[false,switch_type]],
//N
  [[[1.8033827296587899,5.121683832021],1,[-338.8,2.30338272965879,5.621683832021]],[3,3,1,3],[false,switch_type]],
//Page Down
  [[[0.54108251968504,4.99436257217848],1,[-340.6,1.04108251968504,5.49436257217848]],[2,2,1,3],[false,switch_type]],
//M
  [[[2.73617207349081,4.69356603674541],1,[-341,3.23617207349081,5.19356603674541]],[2,2,2,2],[false,switch_type]],
//,
  [[[3.6591268766404204,4.26926251968504],1,[-341.9,4.15912687664042,4.76926251968504]],[2,1,1,1],[false,switch_type]],
//;
  [[[5.56513737532808,3.5205274540682403],1,[-343.2,6.06513737532808,4.02052745406824]],[2,2,2,2],[false,switch_type]],
//H
  [[[1.4990631496063,4.08706404199475],1,[-345.8,1.9990631496063,4.58706404199475]],[2,1,1,1],[false,switch_type]],
//L
  [[[4.48875454068241,3.45524419947507],1,[-346.8,4.98875454068241,3.95524419947507]],[2,2,2,2],[false,switch_type]],
//J
  [[[2.45726934383202,3.6581456167979],1,[-348.5,2.95726934383202,4.1581456167979]],[2,2,2,2],[false,switch_type]],
//K
  [[[3.40383097112861,3.21970230971129],1,[-350.1,3.90383097112861,3.71970230971129]],[2,2,2,2],[false,switch_type]],
//P
  [[[5.3537532808399,2.46516624671916],1,[-351,5.8537532808399,2.96516624671916]],[2,2,2,2],[false,switch_type]],
//Page Up
  [[[0.28307133858267697,3.9074064041994703],1,[-352.7,0.783071338582677,4.40740640419947]],[3,3,1,3],[false,switch_type]],
//Y
  [[[1.32852776902887,3.01004267716535],1,[-354,1.82852776902887,3.51004267716535]],[2,2,2,2],[false,switch_type]],
//O
  [[[4.31433989501312,2.39625375328084],1,[-354.1,4.81433989501312,2.89625375328084]],[2,2,2,2],[false,switch_type]],
//F7
  [[[0.15097690288713905,2.73948482939633],1,[-354.9,0.650976902887139,3.23948482939633]],[3,3,1,3],[false,switch_type]],
//U
  [[[2.30425774278215,2.60510162729659],1,[-354.9,2.80425774278215,3.10510162729659]],[2,2,2,2],[false,switch_type]],
//I
  [[[3.28031496062992,2.16797900262467],1,[-355.5,3.78031496062992,2.66797900262467]],[2,2,2,2],[false,switch_type]],
//6
  [[[1.24165742782152,1.9892370078740198],1,[-356.1,1.74165742782152,2.48923700787402]],[3,2,2,2],[false,switch_type]],
//F8
  [[[0.08353564304461902,1.5724212598425198],1,[-357.6,0.583535643044619,2.07242125984252]],[1,2,1,2],[false,switch_type]],
//7
  [[[2.23734141732283,1.57714566929134],1,[-357.6,2.73734141732283,2.07714566929134]],[2,2,2,2],[false,switch_type]],
//F9
  [[[1.18954582677165,0.81213475065617],1,[-358.1,1.68954582677165,1.31213475065617]],[1,1,2,1],[false,switch_type]],
//0
  [[[5.25883265091863,1.39677034120735],1,[-358.2,5.75883265091863,1.89677034120735]],[2,2,2,3],[false,switch_type]],
//9
  [[[4.25145590551181,1.34892036745407],1,[-359,4.75145590551181,1.84892036745407]],[2,2,2,2],[false,switch_type]],
];


// MCU Position(s)
base_mcu_layout = [
    [[[-0.2,-0.5],mcu_h_unit_size,[0,0,0]],[1,4,0,3]],
];

// EC11 Position(s)
base_ec11_layout = [
//    [[[9.01706036745407,0.21443569553805797],1,[-360,9.51706036745407,0.714435695538058]],[2,3,3,2]],

];


// EVQWGD001 Position(s)
base_evqwgd001_layout = [
    [[[9.01706036745407,0.21443569553805797],1,[-360,9.51706036745407,0.714435695538058]],[2,3,3,2]],

];

// TRRS Position(s)
base_trrs_layout = [
     [[[1.3,-0.4],1,[0,0,0]],[1,1,1,1]],
];

// Plate Layout (if different than PCB)
//     (extra_data = component_type)
base_plate_layout = [];

// Whether to only use base_plate_layout to generate the plate footprint
use_plate_layout_only = false;

// Stabilizer layout
//     (extra_data = [key_size, left_offset, right_offset, switch_offset=0])
//     (see stabilizer_spacing.scad for presets)
base_stab_layout = [
[[[1.18237391076115,7.64275275590551],2.24409448818898,[-236.9,2.30442115485564,8.14275275590551]],[1,2,1,1],2_25u],
[[[7.180052493438319,4.36272965879265],2.74278215223097,[-360,8.55144356955381,4.86272965879265]],[1,2,1,1],2_75u],
[[[8.289238845144359,1.36115485564304],1.99527559055118,[-360,9.28687664041995,1.86115485564304]],[1,2,1,1],2u],
];

// Standoff hole layout
//     (extra_data = [standoff_integration_override, standoff_attachment_override])
base_standoff_layout = [
    //L0V2
    [[[0.3,4.5]],[0,0,0,0]],

    //L1V1
    //[[[0,-1.3]],[0,0,0,0],["plate", "backplate"]],
    //L1V2-1
    [[[0,1.05]],[0,0,0,0]],
    //L1V2
    [[[0.6,1.1]],[0,0,0,0],["plate", "backplate"]],


   //L1V3
    [[[1.2,5.1]],[0,0,0,0],["plate", "backplate"]],
   //L1V3-2
    [[[2,5.8]],[0,0,0,0]],



   //L1V4
    [[[0.6,7.5]],[0,0,0,0],["plate", "backplate"]],
   //L1V5
    [[[1.7,8.7]],[0,0,0,0],["plate", "backplate"]],

   //L1V4.5
    [[[1.3,8]],[0,0,0,0]],


    //L2V1
    [[[4,-0.7]],[0,0,0,0],["plate", "backplate"]],

    //L2V2
    [[[4,3]],[0,0,0,0],["plate", "backplate"]],

    //L1.5V1
    [[[1.7,-0.5]],[0,0,0,0]],
    //L1.5V2
    [[[1.8,2.5]],[0,0,0,0]],

    //L6V2
    [[[5.9,2.9]],[0,0,0,0]],

    //L4V1.5
    [[[3.8,0.7]],[0,0,0,0]],

    //L3.5V2
    [[[4.3,4.6]],[0,0,0,0]],

    //L4.5V2
    [[[8.1,2.5]],[0,0,0,0]],
    //L4.5V1
    [[[8.3,0.8]],[0,0,0,0]],


    //L2V4
    [[[4,6]],[0,0,0,0],["plate", "backplate"]],
    //L2V5
    [[[2.8,7.1]],[0,0,0,0],["plate", "backplate"]],

    //L3V1
    [[[7,-0.5]],[0,0,0,0],["plate", "backplate"]],

    //L3V4
    [[[7,5]],[0,0,0,0],["plate", "backplate"]],

    //L4V1
    [[[9.7,0]],[0,0,0,0],["plate", "backplate"]],

    //L4V4
    [[[9.4,5]],[0,0,0,0],["plate", "backplate"]],

];

// Via layout
//     (extra_data = [via_width, via_length])
base_via_layout = [
//    [[[1.2,0.3],1,[90,0,0]],[1,1,1,1]],

];

base_microswitch_layout = [
];

// Whether to flip the layout
invert_layout_flag = false;

// Whether the layout is staggered-row or staggered-column
layout_type = "column";  // [column, row]
